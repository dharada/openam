<?xml version="1.0" encoding="UTF-8"?>
<!--
  ! CCPL HEADER START
  !
  ! This work is licensed under the Creative Commons
  ! Attribution-NonCommercial-NoDerivs 3.0 Unported License.
  ! To view a copy of this license, visit
  ! http://creativecommons.org/licenses/by-nc-nd/3.0/
  ! or send a letter to Creative Commons, 444 Castro Street,
  ! Suite 900, Mountain View, California, 94041, USA.
  !
  ! You can also obtain a copy of the license at
  ! src/main/resources/legal-notices/CC-BY-NC-ND.txt.
  ! See the License for the specific language governing permissions
  ! and limitations under the License.
  !
  ! If applicable, add the following below this CCPL HEADER, with the fields
  ! enclosed by brackets "[]" replaced with your own identifying information:
  !      Portions Copyright [yyyy] [name of copyright owner]
  !
  ! CCPL HEADER END
  !
  !      Copyright 2011-2012 ForgeRock AS
  !    
-->
<chapter xml:id='chap-issues'
 xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en'
 xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
 xsi:schemaLocation='http://docbook.org/ns/docbook http://docbook.org/xml/5.0/xsd/docbook.xsd'
 xmlns:xlink='http://www.w3.org/1999/xlink'
 xmlns:xinclude='http://www.w3.org/2001/XInclude'>
 <title>OpenAM Fixes, Limitations, &amp; Known Issues</title>

 <para>OpenAM issues are tracked at <link
 xlink:href='https://bugster.forgerock.org/jira/browse/OPENAM'
 >https://bugster.forgerock.org/jira/browse/OPENAM</link>. This chapter
 covers the status of key issues and limitations at release
 <?eval ${serverDocTargetVersion}?>.</para>

 <section xml:id="fixes">
  <title>Fixes</title>

  <para>The following issues were fixed in release
  <?eval ${serverDocTargetVersion}?>.</para>

  <!-- List generated at 11:53:19 20121213 using http://bugster.forgerock.org/jira/rest/api/2/search?jql=fixVersion+%3D+%2210.0.1%22+AND+project+%3D+OPENAM+AND+resolution+%3D+fixed+AND+type+%3D+Bug+AND+component+!%3D+documentation&startAt=0&maxResults=500&fields=summary-->
  <itemizedlist>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1922" xlink:show="new">OPENAM-1922</link>: DAS doesn't handle a 302 from OpenAM</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1873" xlink:show="new">OPENAM-1873</link>: Auth module error messages can get lost</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1863" xlink:show="new">OPENAM-1863</link>: PLLRequestServlet should set Content-Length header on the response</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1858" xlink:show="new">OPENAM-1858</link>: Federated authentication does not clear authentication state when initiating authn multiple times</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1819" xlink:show="new">OPENAM-1819</link>: "IDP Session is NULL" when logging in to two different OpenAM servers within an IDP site configuration</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1788" xlink:show="new">OPENAM-1788</link>: Create-agent command always requires serverurl and agenturl properties</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1787" xlink:show="new">OPENAM-1787</link>: ConnectionPool related issues when using LDAP authentication module</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1779" xlink:show="new">OPENAM-1779</link>: REST interface should always set Cache-Control headers to prevent caching</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1736" xlink:show="new">OPENAM-1736</link>: NullPointerException causes TimerPool thread to fail</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1703" xlink:show="new">OPENAM-1703</link>: SP Single Logout Init returns HTTP 400 when no local session exists</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1696" xlink:show="new">OPENAM-1696</link>: Data code for AD_ACCOUNT_DISABLED is wrong</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1622" xlink:show="new">OPENAM-1622</link>: Remote Session validation can lead to heap accumulation</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1546" xlink:show="new">OPENAM-1546</link>: Logout/Idle Timeout does not clear Restricted Token Session objects if multiple Policy Agents are in use</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1545" xlink:show="new">OPENAM-1545</link>: Container shutdown might hang when using SFO</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1544" xlink:show="new">OPENAM-1544</link>: Request headers are not proxied for GET requests</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1515" xlink:show="new">OPENAM-1515</link>: Possibility that LB Cookie is not set</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1514" xlink:show="new">OPENAM-1514</link>: NullPointerException thrown if 'refresh' parameter is missing from  'attributes' SOAP call</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1478" xlink:show="new">OPENAM-1478</link>: OpenAM installation console does not populate the port on second installation. Showing value of "null"</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1438" xlink:show="new">OPENAM-1438</link>: Multiple failing null-callback sufficient modules can result in NPE</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1371" xlink:show="new">OPENAM-1371</link>: Server Debug level not hot-swappable in Console</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1364" xlink:show="new">OPENAM-1364</link>: During Session Failover, when an IDPSessionCopy is retrieved from the DB it is missing the NameID values that were saved after authentication.</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1356" xlink:show="new">OPENAM-1356</link>: Login pages submits form twice on IE</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1347" xlink:show="new">OPENAM-1347</link>: Multiple tabs setting not listed in validserverconfig</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1346" xlink:show="new">OPENAM-1346</link>: Saving WS-Fed IdP properties loses entity configuration data</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1340" xlink:show="new">OPENAM-1340</link>: ForceAuth results in NPE</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1333" xlink:show="new">OPENAM-1333</link>: SAML2 does not set content type when using HTTP-POST binding</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1329" xlink:show="new">OPENAM-1329</link>: EntitlementException locale files missing from ClientSDK</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1326" xlink:show="new">OPENAM-1326</link>: Deadlock in PeriodicRunnable (side effect of OPENSSO-5377)</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1315" xlink:show="new">OPENAM-1315</link>: The IDPSSOUtil.getIDPAdapterClass call does not cater for an empty value coming from metadata lookup resulting in ClassNotFound exceptions in debug logs.</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1307" xlink:show="new">OPENAM-1307</link>: Goto validation not carried out on Logout if there is no SSO session</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1285" xlink:show="new">OPENAM-1285</link>: Incorrect JAVA EE API usage in FileUpload.jsp</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1283" xlink:show="new">OPENAM-1283</link>: OpenAM does not return adequate SOAP faults during ArtifactResolution</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1280" xlink:show="new">OPENAM-1280</link>: Persistent cookies only works when debug is at Message Level</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1261" xlink:show="new">OPENAM-1261</link>: Upgrade fails if .configParam file is missing</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1252" xlink:show="new">OPENAM-1252</link>: ssoadm loses exception causes</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1246" xlink:show="new">OPENAM-1246</link>: More than 5 referral policies under a realm would hang PrivilegeEvaluator</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1241" xlink:show="new">OPENAM-1241</link>: Upgrade fails due to ArrayOutOfBoundsException</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1226" xlink:show="new">OPENAM-1226</link>: JAX RPC calls generating "java.lang.InternalError: fillbuf: errors in OpenAM container log</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1221" xlink:show="new">OPENAM-1221</link>: WSSAgent can not sign request if security mechanism 'X509Token' and Signing Reference Type 'KeyIdentifier Reference' is configured in Web Service Client profile</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1168" xlink:show="new">OPENAM-1168</link>: Rest/SOAP interface no longer returns the error message for cases where a HTTP 401 is generated</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1108" xlink:show="new">OPENAM-1108</link>: DAUI does not get client IP address when behind proxying load balancers</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1083" xlink:show="new">OPENAM-1083</link>: Using Federation redirects with the valid goto URL whitelist causes problems</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-1007" xlink:show="new">OPENAM-1007</link>: Memory Leak in SMSNotificationManager when ldap error occurs</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-746" xlink:show="new">OPENAM-746</link>: CDCServlet should only compute TokenRestriction if cookie hijacking prevention is configured</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-732" xlink:show="new">OPENAM-732</link>: encode issue in CDCServlet if url contains blank</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-670" xlink:show="new">OPENAM-670</link>: Entitlement evaluation throws org.json.JSONException when evaluating entitlements with resource attributes </para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-507" xlink:show="new">OPENAM-507</link>: Adding to existing deployment fails for non-default Org. Auth. configuration</para></listitem>
   <listitem><para><link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM-24" xlink:show="new">OPENAM-24</link>: Identity Changes not propagating to policy decisions</para></listitem>
  </itemizedlist>
 </section>

 <section xml:id="limitations">
  <title>Limitations</title>

  <note>
   <para>The content of this section has not changed since OpenAM 10.0.0.</para>
  </note>

  <para>ForgeRock supports the stable software releases that you can download
  from ForgeRock, not nightly builds or pre-release software. ForgeRock
  OpenAM downloads do not include OpenAM extensions. Therefore, ForgeRock does
  not support OpenAM extensions. If you have a special request for capabilities
  not currently in a software release, contact ForgeRock at <link
  xlink:href="mailto:info@forgerock.com">info@forgerock.com</link>.</para>
  
  <para>Do not run different versions of OpenAM together in the same OpenAM
  site.</para>

  <para>Not all features of OpenAM work with IPv6.</para>

  <para>The Database Repository type of data store is experimental and not
  supported for production use.</para>

  <!-- Fix for OPENAM-737: Add details to the release notes of OpenAM (for 735) -->
  <para>By default, the REST and SOAP APIs return different responses depending
  on whether the user name provided is valid or invalid. This behavior could
  allow an attacker to build list of valid user names, after which only
  passwords would be required to gain access to user account details. To
  prevent this risk, set the server configuration property
  <literal>openam.auth.soap.rest.generic.authentication.exception=true</literal>.
  You can set this property in OpenAM console under Configuration &gt; Servers
  and Sites &gt; Servers &gt; Server Name &gt; Advanced.</para>

  <!-- Fix for OPENAM-1032: Add details to the release notes and documentation of OpenAM (for 875) -->
  <para>By default OpenAM does not enforce session quotas when running in Site
  mode without session failover. To work around this behavior, set the server
  configuration property
  <literal>openam.session.useLocalSessionsInMultiServerMode=true</literal>.
  You can set this property in OpenAM console under Configuration &gt; Servers
  and Sites &gt; Servers &gt; Server Name &gt; Advanced.</para>
 </section>
 
 <section xml:id="known-issues">
  <title>Known Issues</title>

  <para>OpenAM <?eval ${serverDocTargetVersion}?> has a number of outstanding
  issues that have been noted in the OpenAM bug tracker. Check
  <link xlink:href="https://bugster.forgerock.org/jira/browse/OPENAM"
  xlink:show="new">https://bugster.forgerock.org/jira/browse/OPENAM</link> for
  the latest list of issues.</para>
 </section>
</chapter>
