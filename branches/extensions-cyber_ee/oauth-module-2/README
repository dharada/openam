#
# DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.
#
# Copyright (c) 2011 ForgeRock AS. All Rights Reserved
# Copyright 2011 Cybernetica AS.
#
# The contents of this file are subject to the terms
# of the Common Development and Distribution License
# (the License). You may not use this file except in
# compliance with the License.
#
# You can obtain a copy of the License at
# http://forgerock.org/license/CDDLv1.0.html
# See the License for the specific language governing
# permission and limitations under the License.
#
# When distributing Covered Code, include this CDDL
# Header Notice in each file and include the License file
# at http://forgerock.org/license/CDDLv1.0.html
# If applicable, add the following below the CDDL Header,
# with the fields enclosed by brackets [] replaced by
# your own identifying information:
# "Portions Copyrighted [year] [name of copyright owner]"
#
#

1. install ssoAdminTools.zip into ~/bin
2. create a password file at ~/.pass, where amAdmin password is stored;
   run: echo -n <my-admin-password> > ~/.pass
        chmod 400 ~/.pass
3. It is not necessary to extend the schema with this vesion, however if you want to extend it, then you have to install the ldapscripts package, if not already installed or use the ldaputils from OpenDJ that come with OpenAM
4. run: mvn clean:install
5. run: ./deploy
   - target/*.jar are copied to opensso/WEB-INF/lib;
   - src/conf/amUser.* and src/conf/amAuthOAuth.* are copied to opensso/WEB-INF/classes;
   - src/conf/OAuth.xml are copied to opensso/config/auth/default;
   * openam/ - is the application server directory, where OpenAM is deployed
6. run: ./create-ldif
   - class and attributes are added for facebook module, based on src/ldif/create.ldif
7. run: ./create-svc
   - OAuth module service is registered
8. in embedded datastore configuration of OpenAM add object class facebookUserInfo to 
   'LDAP User Object Class' list and attributes facebook-id, facebook-fname, facebook-lname and
   facebook-email to 'LDAP User Attributes' list
9. restart OpenAM server
10. go to OpenAM administration console, Access Control -> Realm -> OAuth and configure fields
   "Client Id", "Client Secret", "SSO Login URL" and "SSO Proxy URL". The last may also be empty.


